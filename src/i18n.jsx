import React, { createContext, useContext, useState, useMemo } from 'react'

const I18nContext = createContext({ lang: 'fr', setLang: () => {}, t: (k) => k })

const dict = {
  fr: {
    'navbar.product': 'Produit',
    'navbar.demo': 'Demande de demo',
    'navbar.about': 'A propos',
    'navbar.pricing': 'Tarifs',
    'navbar.contact': 'Contact',
    'navbar.try': 'Demander',
    'navbar.lang': 'EN',

    'hero.title': 'Structurer selon votre modele',
    'hero.subtitle': 'Revelez le potentiel humain',
    'hero.try': 'Demandez une demo',
    'hero.discover': 'Decouvrir le produit',

    'product.pill': 'Vue produit',
    'product.title': 'Une plateforme oriente modele, sans detours',
    'product.lead': 'Centralisez la capture, la normalisation et la validation de vos donnees metier dans un flux unique.',
    'product.overview.title': 'Du texte libre a un objet fiable',
    'product.overview.desc': 'Seagle relit vos entrees, applique vos contraintes metier et produit des donnees propres pretes a synchroniser.',
    'product.flow1.title': 'Collecte guidee',
    'product.flow1.desc': 'Formulaires conversationnels et imports de documents pour capturer la matiere brute.',
    'product.flow2.title': 'Structuration automatique',
    'product.flow2.desc': 'Mapping dynamique vers vos schemas, verification de types et detection des champs manquants.',
    'product.flow3.title': 'Boucle de validation',
    'product.flow3.desc': 'Editeur cote utilisateur et webhooks pour integrer vos approbations.',
    'product.metric1.value': '98%',
    'product.metric1.label': 'champs valides du premier coup',
    'product.metric2.value': '-60%',
    'product.metric2.label': 'temps d\'integration',
    'product.metric3.value': '24h',
    'product.metric3.label': 'mise en production moyenne',
    'product.b1.title': 'API composable',
    'product.b1.desc': 'SDK JS et REST pour embedder la capture dans vos outils existants.',
    'product.b2.title': 'Supervision en temps reel',
    'product.b2.desc': 'Dashboard pour suivre les statuts, rejouer et annoter les flux.',
    'product.b3.title': 'Confiance enterprise',
    'product.b3.desc': 'Chiffrement par defaut, regions europeennes et audit complet.',
    'product.f1.title': 'Schema-first',
    'product.f1.desc': 'Versionnez vos modeles et assurez la coherence des sorties.',
    'product.f2.title': 'Assistance humaine',
    'product.f2.desc': 'Boucle de correction collaborative pour vos experts metier.',
    'product.f3.title': 'Connecteurs natifs',
    'product.f3.desc': 'Synchronisation avec vos CRM, ERP et data lakes.',

    'about.title': 'A propos',
    'about.body': 'Seagle est une startup specialisee dans l\'integration de l\'intelligence artificielle au coeur des processus metier. Nous aidons les entreprises a analyser, detecter et automatiser leurs taches pour ameliorer la performance, reduire les couts et accelerer l\'execution.',

    'pricing.title': 'Tarifs',
    'pricing.starter': 'Starter',
    'pricing.starter.desc': 'Pour demarrer rapidement',
    'pricing.pro': 'Pro',
    'pricing.pro.desc': 'Pour les equipes',
    'pricing.enterprise': 'Enterprise',
    'pricing.enterprise.desc': 'Pour la production a grande echelle',
    'pricing.cta': 'Nous contacter',

    'demo.title': 'Demo en direct',
    'demo.lead': 'Decrivez votre produit, obtenez un objet structure.',

    'moai.step1': '1) Definir le modele',
    'moai.step1.hint': 'Fournissez un JSON minimal. Les cles dans "fields" deviennent votre sortie structuree.',
    'moai.step2': '2) Decrire votre element',
    'moai.step2.hint': 'Redigez un texte libre. Le generateur le mappe vers le modele.',
    'moai.generate': 'Generer les donnees structurees',
    'moai.step3': '3) Sortie structuree',
    'moai.copy': 'Copier JSON',
    'moai.export': 'Exporter JSON',

    'footer.made': 'SEAGLE - Solutions d\'IA orientees modele.',
    'footer.back': 'Retour en haut',

    'contact.name': 'Nom',
    'contact.email': 'Email',
    'contact.subject': 'Sujet',
    'contact.message': 'Message',
    'contact.send': 'Envoyer',
    'contact.success': 'Merci ! Votre client mail va s\'ouvrir.',
    'contact.error': 'Veuillez remplir les champs requis.',
    'contact.defaultSubject': 'Demande de contact',
    'contact.namePh': 'Votre nom',
    'contact.subjectPh': 'Sujet (optionnel)',
    'contact.messagePh': 'Decrivez votre besoin...',
  },
  en: {
    'navbar.product': 'Product',
    'navbar.demo': 'Request a demo',
    'navbar.about': 'About',
    'navbar.pricing': 'Pricing',
    'navbar.contact': 'Contact',
    'navbar.try': 'Request',
    'navbar.lang': 'FR',

    'hero.title': 'Structure to match your model',
    'hero.subtitle': 'Unlock the full potential of your teams',
    'hero.try': 'Request a demo',
    'hero.discover': 'See the product',

    'product.pill': 'Product tour',
    'product.title': 'Model-driven automation without the heavy lift',
    'product.lead': 'Capture, normalize, and validate business data in one orchestrated pipeline.',
    'product.overview.title': 'From freeform input to trusted records',
    'product.overview.desc': 'Seagle reads what your teams write, enforces your model rules, and hands back clean payloads ready to sync.',
    'product.flow1.title': 'Guided capture',
    'product.flow1.desc': 'Conversational forms and document intake to gather the raw signal.',
    'product.flow2.title': 'Automatic structuring',
    'product.flow2.desc': 'Dynamic mapping to your schemas, type checks, and missing field detection.',
    'product.flow3.title': 'Validation loop',
    'product.flow3.desc': 'User-facing editor and webhooks to plug into your approvals.',
    'product.metric1.value': '98%',
    'product.metric1.label': 'fields validated on first pass',
    'product.metric2.value': '-60%',
    'product.metric2.label': 'integration time',
    'product.metric3.value': '24h',
    'product.metric3.label': 'average go-live',
    'product.b1.title': 'Composable API',
    'product.b1.desc': 'Ship the capture experience inside your existing tools with JS and REST SDKs.',
    'product.b2.title': 'Live supervision',
    'product.b2.desc': 'Monitor statuses, replay flows, and annotate edge cases from a single dashboard.',
    'product.b3.title': 'Enterprise trust',
    'product.b3.desc': 'Encryption by default, EU regions, and complete audit history.',
    'product.f1.title': 'Schema-first',
    'product.f1.desc': 'Version your models and guarantee consistent output.',
    'product.f2.title': 'Human in the loop',
    'product.f2.desc': 'Let subject-matter experts review, correct, and learn from every run.',
    'product.f3.title': 'Native connectors',
    'product.f3.desc': 'Sync with your CRM, ERP, and data lakes.',

    'about.title': 'About',
    'about.body': 'Seagle integrates AI into core business processes. We help teams analyze, detect, and automate tasks to boost performance and reduce costs.',

    'pricing.title': 'Pricing',
    'pricing.starter': 'Starter',
    'pricing.starter.desc': 'Get started quickly',
    'pricing.pro': 'Pro',
    'pricing.pro.desc': 'For teams',
    'pricing.enterprise': 'Enterprise',
    'pricing.enterprise.desc': 'Scale to production',
    'pricing.cta': 'Contact us',

    'demo.title': 'Live demo',
    'demo.lead': 'Describe your product, get a structured object.',

    'moai.step1': '1) Define the model',
    'moai.step1.hint': 'Provide minimal JSON. Keys under "fields" appear in the output.',
    'moai.step2': '2) Describe your item',
    'moai.step2.hint': 'Write natural language. The generator maps it into the model.',
    'moai.generate': 'Generate structured data',
    'moai.step3': '3) Structured output',
    'moai.copy': 'Copy JSON',
    'moai.export': 'Export JSON',

    'footer.made': 'SEAGLE - Model-oriented AI.',
    'footer.back': 'Back to top',

    'contact.name': 'Name',
    'contact.email': 'Email',
    'contact.subject': 'Subject',
    'contact.message': 'Message',
    'contact.send': 'Send',
    'contact.success': 'Thanks! Your mail client will open.',
    'contact.error': 'Please fill in the required fields.',
    'contact.defaultSubject': 'Contact request',
    'contact.namePh': 'Your name',
    'contact.subjectPh': 'Subject (optional)',
    'contact.messagePh': 'Describe your needs...',
  },
}

export function I18nProvider({ children }) {
  const [lang, setLang] = useState('fr')
  const t = useMemo(() => (key) => dict[lang]?.[key] ?? key, [lang])
  const value = useMemo(() => ({ lang, setLang, t }), [lang, t])
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export function useI18n(){ return useContext(I18nContext) }
